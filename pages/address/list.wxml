<!--pages/address/list.wxml-->
<view class="address-list-container">
  <!-- åœ°å€åˆ—è¡¨ -->
  <view class="address-list" wx:if="{{addressList.length}}">
    <view 
      class="address-item {{isSelectMode ? 'selectable' : ''}}"
      wx:for="{{addressList}}"
      wx:key="id"
      bindtap="{{isSelectMode ? 'selectAddress' : ''}}"
      data-index="{{index}}"
    >
      <!-- é»˜è®¤æ ‡ç­¾ -->
      <view class="default-tag" wx:if="{{item.isDefault}}">é»˜è®¤</view>

      <!-- åœ°å€ä¿¡æ¯ -->
      <view class="address-header">
        <text class="receiver-name">{{item.name}}</text>
        <text class="receiver-phone">{{item.phone}}</text>
      </view>
      
      <view class="address-detail">
        <text class="address-region">{{item.region}}</text>
        <text class="address-text">{{item.address}}</text>
      </view>

      <!-- æ“ä½œæŒ‰é’® -->
      <view class="address-actions" wx:if="{{!isSelectMode}}" catchtap="stopPropagation">
        <view 
          class="action-item"
          bindtap="editAddress"
          data-id="{{item.id}}"
        >
          <text class="action-icon">âœï¸</text>
          <text class="action-text">ç¼–è¾‘</text>
        </view>

        <view 
          class="action-item"
          bindtap="deleteAddress"
          data-id="{{item.id}}"
          data-index="{{index}}"
        >
          <text class="action-icon">ğŸ—‘ï¸</text>
          <text class="action-text">åˆ é™¤</text>
        </view>

        <view 
          class="action-item"
          wx:if="{{!item.isDefault}}"
          bindtap="setDefaultAddress"
          data-id="{{item.id}}"
        >
          <text class="action-icon">â­</text>
          <text class="action-text">è®¾ä¸ºé»˜è®¤</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:else>
    <text class="empty-icon">ğŸ“</text>
    <text class="empty-text">æš‚æ— æ”¶è´§åœ°å€</text>
  </view>

  <!-- æ·»åŠ åœ°å€æŒ‰é’® -->
  <view class="bottom-bar safe-area-inset-bottom">
    <view class="add-btn" bindtap="addAddress">
      â• æ–°å¢æ”¶è´§åœ°å€
    </view>
  </view>
</view>
